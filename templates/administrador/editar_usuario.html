{% extends 'base.html' %}

{% block title %} Editar Usuario {% endblock %}

{% block content %}
<div class="container mt-4">
    <div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
        <h2 class="mb-3 mb-md-0">Editar Usuario</h2>
        <a href="{{ url_for('listar_usuario') }}" class="btn btn-secondary">
            <i class="fa-solid fa-arrow-left me-1"></i> Volver al listado
        </a>
    </div>

    <div class="col-md-4">
        <label for="id_usuario" class="form-label">ID Usuario
            <i class="fa-solid fa-lock text-secondary ms-1"
           data-bs-toggle="tooltip"
           data-bs-placement="right"
           title="Solo lectura"></i>
        </label>
        <input type="text" class="form-control" id="id_usuario"
            value="{{ usuario.id_usuario }}" disabled>
    </div>

    <form method="POST" action="{{ url_for('actualizar_usuario', id=usuario.id_usuario) }}" class="row g-3 needs-validation" novalidate>
        <!-- RFC -->
        <div class="col-md-4">
            <label for="rfc" class="form-label">RFC</label>
            <input type="text" class="form-control" name="rfc" id="rfc" value="{{ usuario.rfc }}" required>
        </div>

        <!-- CURP -->
        <div class="col-md-4">
            <label for="curp" class="form-label">CURP</label>
            <input type="text" class="form-control" name="curp" id="curp" value="{{ usuario.curp }}" required>
        </div>

        <!-- Contraseña -->
        <div class="col-md-4">
            <label for="pass" class="form-label">Contraseña</label>
            <input type="text" class="form-control" name="pass" id="pass" value="{{ usuario.pass }}" required>
        </div>

        <!-- Nombre completo -->
        <div class="col-md-4">
            <label for="nombre" class="form-label">Nombre(s)</label>
            <input type="text" class="form-control" name="nombre" id="nombre" value="{{ usuario.nombre }}" required>
        </div>
        <div class="col-md-4">
            <label for="apaterno" class="form-label">Apellido Paterno</label>
            <input type="text" class="form-control" name="apaterno" id="apaterno" value="{{ usuario.apaterno }}" required>
        </div>
        <div class="col-md-4">
            <label for="amaterno" class="form-label">Apellido Materno</label>
            <input type="text" class="form-control" name="amaterno" id="amaterno" value="{{ usuario.amaterno }}" required>
        </div>

        <!-- Dirección -->
        <div class="col-md-6">
            <label for="calle" class="form-label">Calle</label>
            <input type="text" class="form-control" name="calle" id="calle" value="{{ usuario.calle }}" required>
        </div>
        <div class="col-md-2">
            <label for="numero" class="form-label">Número</label>
            <input type="text" class="form-control" name="numero" id="numero" value="{{ usuario.numero }}" required>
        </div>
        <div class="col-md-4">
            <label for="localidad" class="form-label">Localidad</label>
            <input type="text" class="form-control" name="localidad" id="localidad" value="{{ usuario.localidad }}" required>
        </div>
        <div class="col-md-4">
            <label for="municipio" class="form-label">Municipio</label>
            <input type="text" class="form-control" name="municipio" id="municipio" value="{{ usuario.municipio }}" required>
        </div>
        <div class="col-md-4">
            <label for="estado" class="form-label">Estado</label>
            <input type="text" class="form-control" name="estado" id="estado" value="{{ usuario.estado }}" required>
        </div>
        <div class="col-md-4">
            <label for="c_postal" class="form-label">Código Postal</label>
            <input type="text" class="form-control" name="c_postal" id="c_postal" value="{{ usuario.c_postal }}" required>
        </div>

        <!-- Estatus -->
        <div class="col-md-4">
            <label for="estatus" class="form-label">Estatus</label>
            <select class="form-select" name="estatus" id="estatus" required>
                <option value="1" {% if usuario.estatus == 1 %}selected{% endif %}>Activo</option>
                <option value="0" {% if usuario.estatus == 0 %}selected{% endif %}>Inactivo</option>
            </select>
        </div>

        <!-- Botones -->
        <div class="col-12 mt-4">
            <button class="btn btn-primary" type="submit">
                <i class="fa-solid fa-save me-1"></i> Actualizar Usuario
            </button>
            <a href="{{ url_for('listar_usuario') }}" class="btn btn-secondary ms-2">
                <i class="fa-solid fa-times me-1"></i> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}
