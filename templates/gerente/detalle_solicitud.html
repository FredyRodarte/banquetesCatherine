{% extends 'base.html' %}
{% block title %} Detalles de la Solicitud {% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Detalles de la Solicitud #{{ solicitud.id_solicitud }}</h2>

    <ul class="list-group mb-3">
        <li class="list-group-item"><strong>Nombre:</strong> {{ solicitud.nombre }} {{ solicitud.apaterno }} {{ solicitud.amaterno }}</li>
        <li class="list-group-item"><strong>RFC:</strong> {{ solicitud.rfc }}</li>
        <li class="list-group-item"><strong>CURP:</strong> {{ solicitud.curp }}</li>
        <li class="list-group-item"><strong>Dirección:</strong> {{ solicitud.calle }} #{{ solicitud.numero }}, {{ solicitud.localidad }}, {{ solicitud.municipio }}, {{ solicitud.estado }} - CP {{ solicitud.c_postal }}</li>
        <li class="list-group-item"><strong>Tipo de Paquete:</strong> {{ solicitud.tipo_paquete|capitalize }}</li>
        <li class="list-group-item"><strong>Anticipo:</strong> {{ solicitud.tipo_anticipo|capitalize }}</li>
        <li class="list-group-item">
            <strong>Comprobante:</strong><br>
            {% if solicitud.comprobante == 'pendiente' %}
                <span class="text-muted">Pendiente</span>
            {% else %}
                <a href="{{ url_for('static', filename='comprobantes/' + solicitud.comprobante) }}" target="_blank">
                    <img src="{{ url_for('static', filename='comprobantes/' + solicitud.comprobante) }}"
                         alt="Comprobante" class="img-fluid rounded" style="max-height: 300px;">
                </a>
            {% endif %}
        </li>
    </ul>

    <a href="{{ url_for('ver_solicitudes') }}" class="btn btn-secondary">← Volver</a>
    <a href="{{ url_for('form_aprobar_solicitud', id=solicitud.id_solicitud) }}" class="btn btn-success">Aprobar</a>
    <form action="{{ url_for('rechazar_solicitud', id=solicitud.id_solicitud) }}" method="POST" class="d-inline" onsubmit="return confirm('¿Rechazar esta solicitud?');">
        <button class="btn btn-danger">Rechazar</button>
    </form>
</div>
{% endblock %}
